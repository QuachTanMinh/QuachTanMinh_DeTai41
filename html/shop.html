<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gian h√†ng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="CSS/bootstrap.css" rel="stylesheet">
    <script src="JS/jquery-3.7.1.min.js"></script>
    <script src="JS/bootstrap.js"></script>
    <link rel="stylesheet" href="CSS/shop.css">
</head>
<body>
     <!-- Header -->
     <header>
        <img src="IMG/ChatGPT Image 09_40_01 5 thg 4, 2025.png" alt="Logo" height="80" width="100">
        <h1>V·∫≠t T∆∞ <br> Y T·∫ø MQ</h1>
        <nav class="nav1">
            <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="html/SanPham.html">S·∫£n ph·∫©m</a></li>
                <li><a href="html/GioiThieu.html">Gi·ªõi thi·ªáu</a></li>
                <li><a href="html/LienHe.html">Li√™n h·ªá</a></li>
                <li><a href="html/shop.html">Gi·ªè h√†ng</a></li>
                <li><a href="html/TaoHoaDon.html">H√≥a ƒë∆°n</a></li>
            </ul>
        </nav>

        <!-- Search -->
        <div class="timkiem">
            <form class="search-form" action="#" method="get">
                <input type="search" name="timkiem" id="timkiem" placeholder="Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm...">
                <button type="submit">T√¨m</button>
            </form>
        </div>

        <!-- Login/Signup -->
        <div class="login-signup">
            <span><a href="html/login.html">ƒêƒÉng nh·∫≠p</a></span>
            <span><a href="html/register.html">ƒêƒÉng k√Ω</a></span>
        </div>

        <!-- User Info -->
        <div class="user-info" id="user-info" style="display: none;">
            <span id="greeting"></span>
            <button id="logout-btn">ƒêƒÉng xu·∫•t</button>
        </div>
    </header>


    <!-- Main -->
    <main class="container my-5">
        <h2 class="mb-4 text-center">üõí Gian h√†ng</h2>
        <div id="productList" class="row g-4"></div>

        <!-- Gi·ªè h√†ng -->
        <h3 class="mt-5">üßæ Gi·ªè h√†ng</h3>
        <ul id="cartList" class="list-group"></ul>

        <!-- N√∫t Thanh to√°n -->
        <a href="html/ThanhToan.html" class="btn btn-success mt-4">Thanh to√°n</a>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-4 mt-5">
        <p>&copy; 2025 C·ª≠a h√†ng thi·∫øt b·ªã y t·∫ø. All rights reserved.</p>
        <div class="sitemap"><a href="html/SiteMap.html">SiteMap</a></div>
    </footer>

    <!-- Script -->
     <script>
     const loggedInUser = localStorage.getItem('loggedInUser');
      
      
      // Hi·ªÉn th·ªã th√¥ng tin ng∆∞·ªùi d√πng
      const userInfo = document.getElementById('user-info');
      const loginSignup = document.querySelector('.login-signup');
      const greeting = document.getElementById('greeting');
      const logoutBtn = document.getElementById('logout-btn');
    
      if (loggedInUser) {
        greeting.textContent = `Xin ch√†o, ${loggedInUser}`;
        userInfo.style.display = 'flex';
        loginSignup.style.display = 'none';
      }
    
      
      logoutBtn.addEventListener('click', function () {
        localStorage.removeItem('loggedInUser');
        alert('B·∫°n ƒë√£ ƒëƒÉng xu·∫•t!');
        window.location.href = 'index.html';
      });
     </script>
    <script>

        const products = [
    { id: 1, name: 'Kh·∫©u trang Y t·∫ø', price: 10000, img: 'IMG/khau-trang.png' },
    { id: 2, name: 'GƒÉng tay kh√°m', price: 20000, img: 'IMG/gangtay.png' },
    { id: 3, name: 'Nhi·ªát k·∫ø ƒëi·ªán t·ª≠', price: 150000, img: 'IMG/nhietke.png' }
];

        let cart = JSON.parse(localStorage.getItem('cart') || '[]');

        function renderProducts() {
    const productList = document.getElementById('productList');
    productList.innerHTML = '';
    products.forEach(p => {
        const col = document.createElement('div');
        col.className = 'col-md-4';
        col.innerHTML = `
            <div class="card h-100 shadow">
                <img src="${p.img}" class="card-img-top" alt="${p.name}" style="height: 200px; object-fit: cover;">
                <div class="card-body">
                    <h5 class="card-title">${p.name}</h5>
                    <p class="card-text">Gi√°: ${p.price.toLocaleString()}ƒë</p>
                    <button class="btn btn-success" onclick="addToCart(${p.id})">Th√™m v√†o gi·ªè</button>
                </div>
            </div>
        `;
        productList.appendChild(col);
    });
}

        function addToCart(id) {
            const prod = products.find(p => p.id === id);
            cart.push(prod);
            renderCart();
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function renderCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = '';
            cart.forEach((item, index) => {
                const li = document.createElement('li');
                li.className = 'list-group-item d-flex justify-content-between align-items-center';
                li.innerHTML = `${item.name} - ${item.price.toLocaleString()}ƒë
                <button class="btn btn-sm btn-danger" onclick="removeFromCart(${index})">X√≥a</button>`;
                cartList.appendChild(li);
            });
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCart();
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        window.onload = () => {
            renderProducts();
            renderCart();
        };

    
      
        // Modal elements
        const modal = document.getElementById('product-modal');
        const modalImg = document.getElementById('modal-img');
        const modalTitle = document.getElementById('modal-title');
        const modalMaterial = document.getElementById('modal-material');
        const modalManufacturer = document.getElementById('modal-manufacturer');
        const modalDesc = document.getElementById('modal-desc');
        const modalClose = document.querySelector('.modal-close');
      
        // X·ª≠ l√Ω khi nh·∫•n n√∫t "Chi ti·∫øt"
        document.querySelectorAll('.product-item .btn').forEach(btn => {
          btn.addEventListener('click', function (e) {
            e.preventDefault();
            const item = this.closest('.product-item');
      
            modalImg.src = item.querySelector('img').src;
            modalTitle.textContent = item.dataset.title;
            modalMaterial.textContent = item.dataset.material;
            modalManufacturer.textContent = item.dataset.manufacturer;
            modalDesc.textContent = item.dataset.desc;
      
            modal.style.display = 'flex';
          });
        });
      
        // ƒê√≥ng modal
        modalClose.addEventListener('click', () => modal.style.display = 'none');
        modal.addEventListener('click', e => {
          if (e.target === modal) modal.style.display = 'none';
        });
    </script>
     
      <script src="JS/auth.js"></script>
</body>
</html>
